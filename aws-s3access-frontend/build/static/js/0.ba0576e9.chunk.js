webpackJsonp([0],{2030:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(o,i){try{var r=t[o](i),l=r.value}catch(e){return void n(e)}if(!r.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});e(l)}return a("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(48),c=n.n(s),u=n(0),d=n.n(u),m=n(306),p=n(304),f=n(2035),h=(n.n(f),n(305)),g=n(307),A=n(308),b=n(2039),v=(n.n(b),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),y=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={uploadDialogOpen:!1,uploadFiles:[],folderCreateDialogOpen:!1,folderName:"",error:null,selectedPaths:[],overOnPath:null},n}return l(t,e),v(t,[{key:"componentWillMount",value:function(){(0,this.props.dispatch)(g.b.listContentsUnderPath("/"))}},{key:"logout",value:function(){function e(){return t.apply(this,arguments)}var t=o(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.dispatch,e.next=3,t(g.a.logout());case 3:case"end":return e.stop()}},e,this)}));return e}()},{key:"navigateByPath",value:function(e,t){var n=this.props.dispatch;"folder"===e?n(g.b.listContentsUnderPath(t)):"file"===e&&n(g.b.downloadFile(t)),this.setState({selectedPaths:[]})}},{key:"createFolder",value:function(e){var t=this.props.dispatch;this.setState({folderCreateDialogOpen:!1,selectedPaths:[]});var n=this.state.folderName;if(!n)return void this.setState({error:"folder name is required"});t(g.b.createFolder(e,n)),this.setState({error:null,folderName:""})}},{key:"deleteByPaths",value:function(e){(0,this.props.dispatch)(g.b.deletePaths(e)),this.setState({error:null,uploadFiles:[]}),this.setState({selectedPaths:[]})}},{key:"uploadFiles",value:function(e){var t=this.props.dispatch;this.setState({uploadDialogOpen:!1,selectedPaths:[]});var n=this.state.uploadFiles;if(0===n.length)return void this.setState({error:"file is required"});t(g.b.uploadFiles(e,n))}},{key:"onPathClicked",value:function(e){var t=this.state.selectedPaths,n=[].concat(a(t));-1===n.indexOf(e)?n.push(e):n=n.filter(function(t){return t!==e}),this.setState({selectedPaths:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.fileSystem,a=t.auth,o=n.contents,i=n.curPath,r=(a.userData||{})["cognito:username"],l=i.replace(/\/+$/g,"").split("/");return d.a.createElement("div",{className:"home-container"},"loading"===n.status?d.a.createElement("div",{className:"loading-container"},d.a.createElement(p.q,{color:"accent"})):null,d.a.createElement(p.l,{justify:"center",spacing:0,direction:"column",container:!0,alignContent:"center"},d.a.createElement(p.l,{item:!0},d.a.createElement(p.a,{position:"static",color:"primary"},d.a.createElement(p.v,{className:"home-tool-bar"},d.a.createElement("div",{className:"flex-spacer"}),d.a.createElement(p.x,{type:"body1",color:"inherit",className:"home-account-item"},r||""),d.a.createElement(p.b,{dense:!0,color:"contrast",onClick:this.logout.bind(this)},"Logout")))),d.a.createElement(p.l,{item:!0},d.a.createElement("div",{className:"home-path-breadcrumbs"},l.map(function(t,n){var a=n===l.length-1,o=t,i=l.slice(0,n+1).join("/")+"/";return 0===n&&(o="Home"),d.a.createElement("div",{key:i,className:"home-breadcrumb-container"},d.a.createElement(p.b,{classes:{root:"home-breadcrumb"},disabled:a,onClick:function(){e.navigateByPath("folder",i)}},o),!a&&d.a.createElement("span",{style:{color:"rgba(0,0,0,0.45)"}},">"))})),d.a.createElement(p.i,null),d.a.createElement(p.v,null,d.a.createElement("div",null,d.a.createElement(p.b,{style:{marginRight:30},onClick:function(){e.setState({folderCreateDialogOpen:!0})},title:"Create Folder",raised:!0,color:"primary"},d.a.createElement(h.f,null),"Create Folder"),d.a.createElement(p.b,{style:{marginRight:30},onClick:function(){e.setState({uploadDialogOpen:!0})},title:"Upload",raised:!0,color:"primary"},d.a.createElement(h.e,null),"Upload Files"),d.a.createElement(p.b,{style:{marginRight:30},disabled:0===this.state.selectedPaths.length,onClick:function(){e.deleteByPaths(e.state.selectedPaths)},raised:!0,color:"primary"},d.a.createElement(h.d,null),"Download Files"),d.a.createElement(p.w,{placement:"bottom",title:"When remove folder, please make sure folder is empty"},d.a.createElement("div",{style:{display:"inline-block"}},d.a.createElement(p.b,{disabled:0===this.state.selectedPaths.length,onClick:function(){e.deleteByPaths(e.state.selectedPaths)},raised:!0,color:"accent"},d.a.createElement(h.h,null),"Remove folder/File"))))),d.a.createElement("div",{className:"home-grid-list-container"},(n.error||this.state.error)&&d.a.createElement(p.x,{type:"body2",color:"error",className:"home-account-item"},n.error||this.state.error),d.a.createElement(f.GridList,{cellHeight:100,className:"home-grid-list",spacing:15,cols:5},o.map(function(t){var n=t.path.replace(/\/+$/g,"").split("/"),a=n[n.length-1],o=e.state.selectedPaths.indexOf(t.path)>=0;return d.a.createElement(f.GridListTile,{key:t.path,cols:1},d.a.createElement("div",{className:o?"home-grid-item selected":"home-grid-item",onClick:function(){e.navigateByPath(t.type,t.path)},onMouseEnter:function(){return e.setState({overOnPath:t.path})},onMouseLeave:function(){return e.setState({overOnPath:null})}},"folder"===t.type?d.a.createElement(h.f,{classes:{root:"folder"}}):d.a.createElement(h.c,{classes:{root:"file"}}),(e.state.overOnPath===t.path||o)&&d.a.createElement("div",{className:"path-select",onClick:function(n){n.stopPropagation(),e.onPathClicked(t.path)}},d.a.createElement(h.b,{color:o?"primary":"action",classes:{colorAction:"select-action-color"}})),d.a.createElement(f.GridListTileBar,{title:a,subtitle:t.size&&d.a.createElement("span",null,Math.round(t.size/1024)+"KB")})))}))))),d.a.createElement(p.e,{open:this.state.folderCreateDialogOpen,ignoreBackdropClick:!0,ignoreEscapeKeyUp:!0,fullWidth:!0,"aria-labelledby":"confirmation-dialog-title"},d.a.createElement(p.h,{id:"confirmation-dialog-title"},"Folder Creation"),d.a.createElement(p.g,null,d.a.createElement(p.n,{fullWidth:!0,value:this.state.folderName,onChange:function(t){e.setState({folderName:t.currentTarget.value})},placeholder:"Folder Name"})),d.a.createElement(p.f,null,d.a.createElement(p.b,{onClick:function(){e.setState({folderCreateDialogOpen:!1,folderName:""})},color:"default"},"Cancel"),d.a.createElement(p.b,{onClick:function(){e.createFolder(i)},color:"primary"},"Ok"))),d.a.createElement(p.e,{open:this.state.uploadDialogOpen,ignoreBackdropClick:!0,ignoreEscapeKeyUp:!0,fullWidth:!0,"aria-labelledby":"confirmation-dialog-title"},d.a.createElement(p.h,{id:"confirmation-dialog-title"},"File Upload"),d.a.createElement(p.g,null,d.a.createElement(A.b,{onChange:function(t){e.setState({uploadFiles:t})}})),d.a.createElement(p.f,null,d.a.createElement(p.b,{onClick:function(){e.setState({uploadDialogOpen:!1,uploadFiles:[]})},color:"default"},"Cancel"),d.a.createElement(p.b,{onClick:function(){e.uploadFiles(i)},color:"primary"},"Ok"))))}}]),t}(u.Component);t.default=Object(m.b)(function(e){return{fileSystem:e.fileSystem,auth:e.auth}})(y)},2035:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2036);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(o).default}}),Object.defineProperty(t,"GridList",{enumerable:!0,get:function(){return a(o).default}});var i=n(2037);Object.defineProperty(t,"GridListTile",{enumerable:!0,get:function(){return a(i).default}});var r=n(2038);Object.defineProperty(t,"GridListTileBar",{enumerable:!0,get:function(){return a(r).default}})},2036:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.cellHeight,n=e.children,a=e.classes,o=e.className,i=e.cols,l=e.component,c=e.spacing,d=e.style,m=(0,s.default)(e,["cellHeight","children","classes","className","cols","component","spacing","style"]);return u.default.createElement(l,(0,r.default)({className:(0,p.default)(a.root,o),style:(0,r.default)({margin:-c/2},d)},m),u.default.Children.map(n,function(e){var n=e.props.cols||1,a=e.props.rows||1;return u.default.cloneElement(e,{style:(0,r.default)({width:100/i*n+"%",height:"auto"===t?"auto":t*a+c,padding:c/2},e.props.style)})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var i=n(6),r=a(i),l=n(7),s=a(l),c=n(0),u=a(c),d=n(4),m=(a(d),n(9)),p=a(m),f=n(8),h=a(f),g=t.styles={root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}};o.propTypes={},o.defaultProps={cellHeight:180,cols:2,component:"ul",spacing:4},t.default=(0,h.default)(g,{name:"MuiGridList"})(o)},2037:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n(6),i=a(o),r=n(7),l=a(r),s=n(13),c=a(s),u=n(14),d=a(u),m=n(15),p=a(m),f=n(16),h=a(f),g=n(17),A=a(g),b=n(0),v=a(b),y=n(4),C=(a(y),n(9)),E=a(C),B=n(34),w=a(B),P=n(40),k=a(P),x=n(8),O=a(x),N=t.styles={root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},S=function(e){function t(){var e,n,a,o;(0,d.default)(this,t);for(var i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];return n=a=(0,h.default)(this,(e=t.__proto__||(0,c.default)(t)).call.apply(e,[this].concat(r))),a.imgElement=null,a.handleResize=(0,k.default)(function(){a.fit()},166),a.fit=function(){var e=a.imgElement;e&&e.complete&&(e.width/e.height>e.parentNode.offsetWidth/e.parentNode.offsetHeight?(e.classList.remove(a.props.classes.imgFullWidth),e.classList.add(a.props.classes.imgFullHeight)):(e.classList.remove(a.props.classes.imgFullHeight),e.classList.add(a.props.classes.imgFullWidth)),e.removeEventListener("load",a.fit))},o=n,(0,h.default)(a,o)}return(0,A.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.ensureImageCover()}},{key:"componentDidUpdate",value:function(){this.ensureImageCover()}},{key:"componentWillUnmount",value:function(){this.handleResize.cancel()}},{key:"ensureImageCover",value:function(){this.imgElement&&(this.imgElement.complete?this.fit():this.imgElement.addEventListener("load",this.fit))}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.classes,o=t.className,r=(t.cols,t.component),s=(t.rows,(0,l.default)(t,["children","classes","className","cols","component","rows"]));return v.default.createElement(r,(0,i.default)({className:(0,E.default)(a.root,o)},s),v.default.createElement(w.default,{target:"window",onResize:this.handleResize}),v.default.createElement("div",{className:a.tile},v.default.Children.map(n,function(t){return"img"===t.type?v.default.cloneElement(t,{key:"img",ref:function(t){e.imgElement=t}}):t})))}}]),t}(v.default.Component);S.propTypes={},S.defaultProps={cols:1,component:"li",rows:1},t.default=(0,O.default)(N,{name:"MuiGridListTile"})(S)},2038:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t,n,a=e.actionIcon,o=e.actionPosition,i=e.classes,l=e.className,c=e.subtitle,d=e.title,p=e.titlePosition,f=(0,u.default)(e,["actionIcon","actionPosition","classes","className","subtitle","title","titlePosition"]),g=a&&o,A=(0,h.default)(i.root,(t={},(0,s.default)(t,i.rootBottom,"bottom"===p),(0,s.default)(t,i.rootTop,"top"===p),(0,s.default)(t,i.rootWithSubtitle,c),t),l),b=(0,h.default)(i.titleWrap,(n={},(0,s.default)(n,i.titleWrapActionLeft,"left"===g),(0,s.default)(n,i.titleWrapActionRight,"right"===g),n));return m.default.createElement("div",(0,r.default)({className:A},f),m.default.createElement("div",{className:b},m.default.createElement("div",{className:i.title},d),c?m.default.createElement("div",{className:i.subtitle},c):null),a?m.default.createElement("div",{className:(0,h.default)((0,s.default)({},i.actionIconPositionLeft,"left"===g))},a):null)}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var i=n(6),r=a(i),l=n(11),s=a(l),c=n(7),u=a(c),d=n(0),m=a(d),p=n(4),f=(a(p),n(9)),h=a(f),g=n(8),A=a(g),b=t.styles=function(e){return{root:{position:"absolute",left:0,right:0,height:48,background:"rgba(0, 0, 0, 0.4)",display:"flex",alignItems:"center",fontFamily:e.typography.fontFamily},rootBottom:{bottom:0},rootTop:{top:0},rootWithSubtitle:{height:68},titleWrap:{flexGrow:1,marginLeft:e.mixins.gutters({}).paddingLeft,marginRight:e.mixins.gutters({}).paddingRight,color:"white",overflow:"hidden"},titleWrapActionLeft:{marginLeft:0},titleWrapActionRight:{marginRight:0},title:{fontSize:e.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},subtitle:{fontSize:e.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},actionIconPositionLeft:{order:-1},childImg:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"}}};o.propTypes={},o.defaultProps={actionPosition:"right",titlePosition:"bottom"},t.default=(0,A.default)(b,{name:"MuiGridListTileBar"})(o)},2039:function(e,t,n){var a=n(2040);"string"===typeof a&&(a=[[e.i,a,""]]);var o={hmr:!1};o.transform=void 0;n(2028)(a,o);a.locals&&(e.exports=a.locals)},2040:function(e,t,n){t=e.exports=n(2027)(!0),t.push([e.i,".home-tool-bar{min-height:55px!important}.home-account-item{margin:0 15px!important}.home-grid-list-container{margin:15px}.home-grid-item{width:100%;height:100%;cursor:pointer;position:relative}.home-grid-item.selected,.home-grid-item:hover{background-color:rgba(0,0,0,.2)}.home-grid-item .folder{color:#72cef7;width:100%!important;height:100%!important}.home-grid-item .file{color:#9e9e9e;width:100%!important;height:100%!important}.home-grid-item .select-action-color{color:#f3f3f3}.home-grid-item .path-select{position:absolute;right:5px;top:5px}.home-path-breadcrumbs{margin:0 15px}.home-breadcrumb-container{display:inline-block;color:#72cef7}.home-breadcrumb{font-size:.65rem!important;color:#72cef7!important;padding:8px!important;min-width:58px!important}.home-breadcrumb.nav{font-size:1rem!important;min-width:15px!important;color:rgba(0,0,0,.56)!important}.home-breadcrumb:disabled{color:rgba(0,0,0,.26)!important}","",{version:3,sources:["/Users/huanghuang/Data/projects/S3-Access/aws-s3access-frontend/src/containers/home.ui.css"],names:[],mappings:"AAAA,eACI,yBAA4B,CAC/B,AAED,mBACI,uBAA0B,CAC7B,AAED,0BACI,WAAa,CAChB,AAED,gBACI,WAAY,AACZ,YAAa,AACb,eAAgB,AAChB,iBAAmB,CACtB,AAED,+CACI,+BAAoC,CACvC,AAED,wBACI,cAAe,AACf,qBAAuB,AACvB,qBAAwB,CAC3B,AAED,sBACI,cAAe,AACf,qBAAuB,AACvB,qBAAwB,CAC3B,AACD,qCAEI,aAAe,CAClB,AACD,6BAEI,kBAAmB,AACnB,UAAW,AACX,OAAQ,CACX,AACD,uBAEI,aAAe,CAClB,AACD,2BACI,qBAAsB,AACtB,aAAe,CAClB,AAED,iBACI,2BAA8B,AAC9B,wBAA0B,AAC1B,sBAA4B,AAC5B,wBAA2B,CAC9B,AACD,qBAEI,yBAA2B,AAC3B,yBAA2B,AAC3B,+BAAsC,CACzC,AACD,0BAEI,+BAAsC,CACzC",file:"home.ui.css",sourcesContent:[".home-tool-bar {\n    min-height: 55px !important;\n}\n\n.home-account-item {\n    margin: 0 15px !important;\n}\n\n.home-grid-list-container {\n    margin: 15px;\n}\n\n.home-grid-item {\n    width: 100%;\n    height: 100%;\n    cursor: pointer;\n    position: relative;\n}\n\n.home-grid-item:hover,.home-grid-item.selected {\n    background-color: rgba(0, 0, 0, 0.2)\n}\n\n.home-grid-item .folder {\n    color: #72cef7;\n    width: 100% !important;\n    height: 100% !important;\n}\n\n.home-grid-item .file {\n    color: #9E9E9E;\n    width: 100% !important;\n    height: 100% !important;\n}\n.home-grid-item .select-action-color\n{\n    color: #f3f3f3;\n}\n.home-grid-item .path-select\n{\n    position: absolute;\n    right: 5px;\n    top:5px;\n}\n.home-path-breadcrumbs\n{\n    margin: 0 15px;\n}\n.home-breadcrumb-container {\n    display: inline-block;\n    color: #72cef7;\n}\n\n.home-breadcrumb {\n    font-size: 0.65rem !important;\n    color: #72cef7 !important;\n    padding: 8px 8px !important;\n    min-width: 58px !important;\n}\n.home-breadcrumb.nav\n{\n    font-size: 1rem !important;\n    min-width: 15px !important;\n    color: rgba(0, 0, 0, 0.56) !important;\n}\n.home-breadcrumb:disabled\n{\n    color: rgba(0, 0, 0, 0.26) !important;\n}"],sourceRoot:""}])}});
//# sourceMappingURL=0.ba0576e9.chunk.js.map